{"ast":null,"code":"import { combineReducers } from 'redux';\nimport { RECEIVE_PRODUCT, GET_QUANTITY, ADJ_QUANTITY, RETURN_ITEM } from \"./action\";\nconst initialStateProducts = {\n  products: []\n};\nconst initialStateCart = {\n  cart: []\n};\n\nfunction candyStoreReducer() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialStateProducts;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case RECEIVE_PRODUCT:\n      return {\n        products: [...state.products, {\n          name: action.name,\n          id: action.id,\n          price: action.price,\n          inStock: action.inStock,\n          photoUrl: action.photoUrl\n        }]\n      };\n\n    case GET_QUANTITY:\n      return { ...state,\n        products: state.products.map(item => item.id === action.id.id ? { ...item,\n          inStock: item.inStock - action.quantity\n        } : item)\n      };\n\n    case RETURN_ITEM:\n      console.log(action);\n      return { ...state,\n        products: state.products.map(item => item.id === action.id ? { ...item,\n          inStock: item.inStock + action.quantity\n        } : item)\n      };\n\n    default:\n      return state;\n  }\n}\n\nfunction shoppingCartReducer() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialStateCart;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case ADJ_QUANTITY:\n      const inCart = state.cart.find(product => product.id === action.id.id ? true : false);\n      return {\n        cart: inCart ? state.cart.map(item => item.id === action.id.id ? { ...item,\n          quantity: item.quantity + action.quantity\n        } : item) : [...state.cart, {\n          id: action.id.id,\n          name: action.id.name,\n          price: action.id.price,\n          quantity: action.quantity,\n          img: action.id.img\n        }]\n      };\n\n    case RETURN_ITEM:\n      console.log(state);\n      return { ...state,\n        cart: state.cart.filter(id => id.id !== action.id)\n      };\n\n    default:\n      return state;\n  }\n}\n\nconst rootReducer = combineReducers({\n  candyStore: candyStoreReducer,\n  cartStore: shoppingCartReducer\n});\nexport default rootReducer;","map":{"version":3,"sources":["/Users/justintan/Documents/GitHub/assignment-4-tan-justin/src/Redux/reducer.js"],"names":["combineReducers","RECEIVE_PRODUCT","GET_QUANTITY","ADJ_QUANTITY","RETURN_ITEM","initialStateProducts","products","initialStateCart","cart","candyStoreReducer","state","action","type","name","id","price","inStock","photoUrl","map","item","quantity","console","log","shoppingCartReducer","inCart","find","product","img","filter","rootReducer","candyStore","cartStore"],"mappings":"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","sourcesContent":["import { combineReducers } from 'redux';\nimport { RECEIVE_PRODUCT, GET_QUANTITY, ADJ_QUANTITY, RETURN_ITEM } from \"./action\";\n\nconst initialStateProducts = {\n    products:[],\n}\nconst initialStateCart = {\n    cart: [],\n}\n\n\nfunction candyStoreReducer(state = initialStateProducts, action){\n\n    switch(action.type){\n        case RECEIVE_PRODUCT:\n            return{\n                products:\n                [...state.products,\n                {\n                   name: action.name,\n                   id: action.id,\n                   price: action.price,\n                   inStock: action.inStock,\n                   photoUrl: action.photoUrl\n                }\n            ]}\n        case GET_QUANTITY:\n            return {\n                ...state,\n                products: state.products.map((item)=>(\n                    item.id === action.id.id ? {\n                        ...item,\n                        inStock: item.inStock - action.quantity,\n                    } : item\n                ))\n            }\n        case RETURN_ITEM:\n            console.log(action)\n            return {\n                ...state,\n                products: state.products.map((item)=>(\n                    item.id === action.id ? {\n                        ...item,\n                        inStock: item.inStock + action.quantity,\n                    } : item\n                ))\n            }\n        default:\n            return state;\n    }\n}\n\nfunction shoppingCartReducer(state = initialStateCart, action){\n    switch(action.type){\n        case ADJ_QUANTITY:\n            const inCart = state.cart.find(product=>product.id === action.id.id ? true : false);\n            return {\n                cart: inCart ? state.cart.map((item)=>item.id === action.id.id ? {...item, quantity: item.quantity + action.quantity} : item ) :\n                [\n                    ...state.cart,\n                    {\n                        id: action.id.id,\n                        name: action.id.name,\n                        price: action.id.price,\n                        quantity: action.quantity,\n                        img: action.id.img\n                    }\n                ]\n            }\n        case RETURN_ITEM:\n            console.log(state)\n            return{\n                    ...state,\n                    cart: state.cart.filter(id=>id.id!== action.id)\n            }\n        default:\n            return state;\n    }\n\n}\n\nconst rootReducer = combineReducers({\n    candyStore: candyStoreReducer,  \n    cartStore: shoppingCartReducer,\n})\n\nexport default rootReducer;"]},"metadata":{},"sourceType":"module"}